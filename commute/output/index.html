<!DOCTYPE html>
<html>
<head>
	<title>Commute times</title>
	<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
	<meta http-equiv="Pragma" content="no-cache" />
	<meta http-equiv="Expires" content="0" />
	<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
	<div id="myDiv" style="width:900px;height:500px;"></div>
	<script>
		Plotly.d3.csv("commute.csv", function(err, rows){

		function unpack(rows, key) {
		return rows.map(function(row) { return row[key]; });
		}


		var trace1 = {
		type: "scatter",
		mode: "lines",
		name: 'To Work',
		x: unpack(rows, 'Time'),
		y: unpack(rows, 'ToWork'),
		line: {color: '#17BECF'}
		}

		var trace2 = {
		type: "scatter",
		mode: "lines",
		name: 'From Work',
		x: unpack(rows, 'Time'),
		y: unpack(rows, 'FromWork'),
		line: {color: '#7F7F7F'}
		}

		var data = [trace1,trace2];

		var layout = {
		title: 'Commute times in minutes',
		};

		Plotly.newPlot('myDiv', data, layout);
		})
	</script>
	<embed type="text/html" src="insights.html" width="800" height="400">
</body>
</html>
